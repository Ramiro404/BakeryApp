# Bakery App

This is an android application developed in Kotlin. This app provides functionalities to handle desserts, additional ingredients, sales.

## Requirements
``
To execute this app locally, you will need the following:

- [Android Studio](https://developer.android.com/studio) the lastest version

## Installation

1. Clone this repository in your local machine

   ```bash
   git clone https://github.com/Ramiro404/BakeryApp.git

2. Navegate into the directory

   ```bash
   cd BakeryApp

3. Open Android Studio, select Open Project and search the BakeryApp directory

4. Click on the Run button which is located in the main toolbar to execute the app


## Tech Stack

**Language:** Kotlin

**Architecture:** Model View ViewModel (MVVM)

**UI:** Jetpack Compose

**Dependency injection:** Dagger Hilt

**Database:** Room

**Asyncrony:** Coroutines + Flow


## functionalities

core.navigation >

### NavDestination.kt

The class NavDestination contains a companion object that has the routes will use over the app, this decision was taken because we don't require to instanciate this class, we only need to access the properties.

### NavigationWrapper.kt

This is the navigation wrapper only used in the main activity to show the MainNavSreen.

data  >

Database

### BakeryDatabase

This  is an abstract class with abstract methods that will be implemented in RoomModule.kt each method returns the interface according to every entity in the database.


The database annotation includes all the entity classes, and two type converters (BigDecimal and LocalDateTime) and this abstract class inherits from RoomDatabase. 

### AdditionalIngredientEntity.kt

This entity represents when the additional ingredients that can be added to each dessert, a ingredient has an extra cost per unit.


| Name | Type | Description | Example |
| ------------- | ------------- | ------------- | ------------- |
| id                             |  Int      | Id of the additional ingredient       | 1|
| name                       |  Int      |name of the additional ingredient     | 1 |
| description          |  Int        | description of the additional ingredient | 1 |
| unitAvailable    |  Int      | number of units available to add | 1 |
| price                          | BigDecimal    | unit price of the additional ingredient| BigDecimal.ZERO |
| imagePath               |  Int         | the path where the image is stored locally| 2|


### CartIngredientDessertEntity.kt

This entity represents the cart when the user selects desserts and ingredients, once the purchase is made, every register from this entity is deleted.

| Name | Type | Description | Example |
| ------------- | ------------- | ------------- | ------------- |
| id                             |  Int      | Id autogenerated       | 1|
| dessertId                       |  Int      | Dessert Id     | 1 |
| additionalIngredientId          |  Int        | Id of the additional ingredient | 1 |
| additionalIngredientQuantity    |  Int      | Quantity selected for the ingredient | 1 |
| total                          | BigDecimal    | the Subtotal is the result of (ingredientQuantity x IngredientPrice)| BigDecimal.ZERO |
| dessertItemNumber               |  Int         | Unique code for every dessert in the cart, we kept in mind the case when there are 2 o more of the same dessert in the card, then we group them by this property| 2|
| customerId                     | Int       | Id of the customer |3|


### CustomerEntity.kt

This entity represents customer, when we make a purchase we store the name, lastname and phone number

| Name | Type | Description | Example |
| ------------- | ------------- | ------------- | ------------- |
| id                             |  Int      | Id autogenerated       | 1|
| name                           |  String      | Name of the customer    | "Juan"|
| lastname                       |  String        |Lastname of the customer | "Perez"|
| phoneNumber                     | String    | Phone number of the customer | "1234445566" |

### DessertAdditionalIngredientEntity.kt

This entity represents the relation between dessert and additional ingredient, the new properties are additionalIngredientQuantity and itemNumber

| Name | Type | Description | Example |
| ------------- | ------------- | ------------- | ------------- |
| id                             |  Int      | Id autogenerated       | 1|
| dessertId                      |  Int      | Id dessert    | 2|
| additionalIngredientId         |  Int        | Id additional ingredient |3|
| additionalIngredientQuantity   | Int    | Quantity selected fot the ingredient | 14 |
| itemNumber                     | String    | Unique value to indentity every dessert from the order |"b3g" |

### DessertEntity.kt

This entity represents the dessert in the bakery

| Name | Type | Description | Example |
| ------------- | ------------- | ------------- | ------------- |
| id               |  Int      | Id autogenerated       | 2|
| name             |  String      | Name of the dessert    | "Choco Cake"|
| description      |  String        | Description of the dessert | "Made with chocolate"|
| unitAvailable   | Int    | Unit remaining to add to desssert | 45 |
| price            | BigDecimal    | Price of the dessert | BigDecimal.TEN |
| imagePath         | String    | Path of the image store locally | "data/user/image.jpeg" |

### OrderDessertEntity.kt

This entity represents the relation between order and dessert additional ingredient

| Name | Type | Description | Example |
| ------------- | ------------- | ------------- | ------------- |
| id               |  Int      | Id autogenerated       | 1|
| orderId             |  Int      | The id of the order  | 1|
|  dessertAdditionalIngredientId |  Int   | The id of the dessert additional ingredient | 2 |
| total   | BigDecimal    | The resul of (ingredientQuantity x IngredientPrice) that is copied from CartIngredientDessertEntity | BigDecimal.ZERO|

### OrderEntity.kt

This entity represents the order when the customer makes a purchase

| Name | Type | Description | Example |
| ------------- | ------------- | ------------- | ------------- |
| id               |  Int      | Id autogenerated       | 1|
| timestamp             |  LocalDateTime      | Date and time when the order was made  | now()|
|  total |  BigDecimal   | The sum of all total's from OrderDessertEntity or CartIngredientDessertEntity | BigDecimal.ZERO|
| customerId   | String    | The resul of (ingredientQuantity x IngredientPrice) that is copied from CartIngredientDessertEntity |1 |


## Methods

### AdditionalIngredientDao

#### getAllAdditionalIngredient

Get all registers from entity AdditionalIngredient

Args:
(none)

Return:
(List<AdditionalIngredientEntity>) The registes from entity AdditionalIngredient

#### getAdditionalIngredientById

Get the register that matches the Id passed as paramenter

Args:
(Int) id - the id that we will compare with the Id from AdditionalIngredientEntity

Return:
(AdditionalIngredientEntity?) The registes from entity AdditionalIngredient, if it does not find the register, then returns null


#### updateAdditionalIngredient

Update the register that matches the Id passed as paramenter

Args:
(AdditionalIngredientEntity) additionalIngredientEntity - the object with the new data

Return:
(Int) the id of the updated register, if it does not find the register, then returns 0

#### insertAdditionalIngredient

Insert a new register

Args:
(AdditionalIngredientEntity) additionalIngredientEntity - the object with the new data

Return:
(Int) the id of the updated register

#### deleteAdditionalIngredientById

Delete the register that matches the id

Args:
(Int) id - the id of the register

Return:
(none) 

### CartIngredientDessertDao

#### getAllCartIngredientsDessert

Get the current products that appear in the customer's cart

Args:
(none) 

Return:
(List<CartItemDetails>)  the registers that containts desserts and ingredients


#### deleteAll

Delete each register from Cart Entity

Args:
(none) 

Return:
(none)  


#### getIngredientsFromIdList

Delete each register from Cart Entity

Args:
(none) 

Return:
(none)  


### CustomerDao

#### getAllCustomer

Returns all registers from CustomerEntity

Args:
(none)

Return:
(List<CustomerEntity>)  The registers contained in a list


#### getCustomerById

Returns the register that matches the id provided

Args:
(Int) id - Id of the customer to find

Return:
(CustomerEntity?)  If it finds the register by id returns the data, if not, it returns null

#### insertCustomer

Saves the register with the data provided

Args:
(CustomerEntity) customerEntity - The customer data to save

Return:
(Long)  If it saves the register, it returns 1, if not, it returns 0

#### updateCustomer

Updates the register with the new data provided

Args:
(CustomerEntity) customerEntity - The customer data to update

Return:
(Int)  If it updates the register, it returns 1, if not, it returns 0


### DessertAdditionalIngredientDao.kt

#### getAllDessertAdditionalIngredientById

Get all ingredients related to an id that the customer chose

Args:
(Int) id - the id of the ingredients

Return:
(List<DessertAdditionalIngredientEntity>)  Returns all the registers that matched the id provided as argument

#### insertDessertAdditionalIngredient

Saves a register for this entity

Args:
(DessertAdditionalIngredientEntity) entity - the data provided

Return:
(Long)  Returns 1 if it was able to save the register, if not, returns 0

### DessertDao.kt

#### getAllDesserts

Get all desserts from this entity

Args:
(None) 

Return:
(List<DessertEntity>)  Returns all the registers contained in a list

#### getDessertById

Get the register that matches the id provided

Args:
(Int) id - Id of the dessert to find

Return:
(DessertEntity?)  If it does not finds the register, then returns null

#### insertDessert

Saves a new register about this entity (Dessert)

Args:
(DessertEntity) dessertEntity - the data provided to save

Return:
(None)  

#### updateDessert

Update the register that matches the id provided and save the changes

Args:
(DessertEntity) dessertEntity - the data provided to update

Return:
(Int)  Returns 1 if it was able to update the register, if not, returns 0


#### deleteDessertById

Delete the register that matches the id provided

Args:
(Int) id - the Id of the dessert to update

Return:
(None) 

### OrderDao.kt

#### getOrderById

Get the list of register that matches the id provided, which allow us to get the desserts and ingredients from every one

Args:
(Int) id - Id of the order to find

Return:
(List<OrderDetail>)  If it does not finds the register, then returns null

#### insertOrder

Saves a new register about this entity (Order)

Args:
(OrderEntity) orderEntity - the new data to save

Return:
(Long)  Returns 1 if it was able to save the register, if not, returns 0

#### updateOrder

Update a new register about this entity (Order)

Args:
(OrderEntity) orderEntity - the new data to save

Return:
(Long)  Returns 1 if it was able to update the register, if not, returns 0

#### deleteOrderById

Delete the register that matches the id provided

Args:
(Int) id - the Id of the order to delete

Return:
(None) 

### OrderDessertDao.kt

#### getAllAdditionalIngredient

Get the list of register that matches the id provided

Args:
(Int) orderId - Id of the order to find

Return:
(List<OrderDetail>)  If it does not finds any register, then returns an empty list

#### insertAdditionalIngredient

Saves a new register about this entity (Order)

Args:
(List<OrderDessertEntity>) orderDessertEntity - the new data to save

Return:
(None)  

